<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valheim Modpack — Guia Completo</title>
  <meta name="color-scheme" content="dark">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    :root{
      /* Paleta inspirada em RPG low-poly com base no vermelho */
      --bg:#0d0a0f;                /* preto vinil */
      --bg-2:#131018;              /* fundo dos painéis */
      --card:#17131c;              /* cartão fechado */
      --card-2:#1d1622;            /* cartão aberto */
      --primary:#e11d48;           /* vermelho/rose-600 */
      --primary-700:#9f1239;       /* sombra do vermelho */
      --accent:#f5b728;            /* dourado/âmbar */
      --accent-2:#20cfe3;          /* ciano frio (complementar) */
      --muted:#d7d6dd;             /* texto claro */
      --muted-2:#a3a1ab;           /* texto secundário */
      --chip:#241a22;              /* pílulas */
      --chip-b:#34202a;            /* borda pílula */
      --ring:rgba(225,29,72,.25);  /* glow */
      --shadow: rgba(0,0,0,.45);
      --radius:16px;
      --radius-sm:12px;
      --radius-xs:10px;
      --gap:16px;
      --fw: 900;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--muted);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
    a{color:var(--accent-2);text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:1200px;margin:0 auto;padding:28px 18px 80px}
    header{
      position:relative;
      border-radius:20px;
      overflow:hidden;
      padding:32px 24px 28px;
      background:
        radial-gradient(1200px 420px at 80% -40%, rgba(225,29,72,.20), transparent 60%),
        radial-gradient(900px 380px at -10% -30%, rgba(245,183,40,.18), transparent 55%),
        linear-gradient(180deg,#130e12 0%, #0e0b0f 100%);
      box-shadow: 0 10px 30px var(--shadow), inset 0 0 0 1px #201820;
    }
    .title{
      font-family:"Press Start 2P", system-ui, sans-serif;
      font-size: clamp(22px, 3.2vw, 44px);
      line-height:1.2;
      letter-spacing:.5px;
      color:#fff;
      text-shadow: 0 2px 0 #000;
      margin:0 0 10px;
      text-align:center;
    }
    .subtitle{
      text-align:center;
      font-size:14px;
      color:var(--muted-2);
      margin:0 auto 18px;
      max-width:800px;
    }
    .controls{
      display:grid;
      grid-template-columns: 1fr auto auto auto;
      gap:10px;
      align-items:center;
    }
    @media (max-width:800px){
      .controls{grid-template-columns: 1fr 1fr 1fr; }
      .controls .search{grid-column:1/-1}
    }
    .search{
      position:relative;
    }
    .search input{
      width:100%;
      border-radius:12px;
      padding:14px 14px 14px 44px;
      border:1px solid #2a232c;
      background:#120f14;
      color:#fff;
      outline:none;
      transition:.2s border,.2s box-shadow;
    }
    .search input:focus{
      border-color:var(--primary);
      box-shadow:0 0 0 4px var(--ring);
    }
    .search svg{
      position:absolute;left:12px;top:50%;transform:translateY(-50%);opacity:.75
    }
    .btn{
      padding:12px 14px;border-radius:12px;border:1px solid #2a232c;background:#141017;color:#fff;
      font-weight:600;cursor:pointer;transition:.2s transform,.2s background,.2s border;
      white-space:nowrap;
    }
    .btn:hover{transform:translateY(-1px);background:#18111c}
    .btn.primary{background:linear-gradient(180deg,var(--primary) 0%, var(--primary-700) 100%); border-color:#4a0f22}
    .btn.primary:hover{filter:saturate(1.05) brightness(1.02)}
    .btn.ghost{background:#140f14;border-color:#2a232c}
    .filters{
      display:flex;flex-wrap:wrap;gap:10px;margin:14px 0 6px;justify-content:center
    }
    .chip{
      border:1px solid var(--chip-b);
      background:var(--chip);
      color:#e9e5ee;
      padding:8px 12px;border-radius:999px;font-size:12px;cursor:pointer;user-select:none;
      transition:.15s transform,.15s background,.15s border;
    }
    .chip[data-on="1"]{
      background:linear-gradient(180deg,#34131d, #201219);
      border-color:#5c1a2b;
      box-shadow: 0 0 0 2px rgba(225,29,72,.18), inset 0 0 0 1px rgba(225,29,72,.25);
    }
    .grid{
      margin-top:18px;
      display:grid;gap:18px;
      grid-template-columns: repeat(3,minmax(0,1fr));
    }
    @media (max-width:1100px){ .grid{grid-template-columns: repeat(2,minmax(0,1fr));} }
    @media (max-width:720px){ .grid{grid-template-columns: 1fr;} }

    details.card{
      border-radius: var(--radius);
      border:1px solid #2b2028;
      background: linear-gradient(180deg,var(--card) 0%, var(--card-2) 100%);
      box-shadow: 0 12px 22px var(--shadow), inset 0 0 0 1px rgba(255,255,255,.02);
      overflow:hidden;
      transition:.2s transform,.2s border,.2s box-shadow;
    }
    details.card[open]{
      border-color:#4b2330;
      box-shadow: 0 16px 26px var(--shadow), 0 0 0 4px var(--ring), inset 0 0 0 1px rgba(255,255,255,.03);
    }
    summary{
      list-style:none;cursor:pointer;display:flex;gap:14px;align-items:center; padding:18px 18px;
      position:relative;
    }
    summary::-webkit-details-marker{display:none}
    .summary-left{flex:1;min-width:0}
    .name{font-weight:800;font-size:18px;letter-spacing:.3px}
    .ver{font-size:12px;color:#ffd9e1;background:#3b1220;border:1px solid #4f1725;padding:5px 8px;border-radius:10px}
    .badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
    .badge{
      font-size:11px;padding:6px 8px;border-radius:999px;
      background:#1a1216;border:1px solid #2a1a22;color:#e9e0e3
    }
    .cats{display:flex;gap:6px;flex-wrap:wrap}
    .chev{
      width:22px;height:22px;border-radius:6px;border:1px solid #3a2931;background:#140e12;
      display:grid;place-items:center;color:#fff;opacity:.9
    }
    .content{padding:0 18px 16px 18px;border-top:1px solid #2b2028}
    .content p{margin:14px 0;color:#eae6ef}
    .kv{display:flex;flex-wrap:wrap;gap:8px}
    .kv .k{font-weight:600;color:#ffedf3}
    .links{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
    .link{
      display:inline-flex;gap:8px;align-items:center;
      background:#140f14;border:1px solid #2a232c;padding:8px 10px;border-radius:10px;
    }
    .link:hover{background:#18111c}
    .empty{opacity:.75}
    footer{margin-top:40px;text-align:center;color:var(--muted-2);font-size:13px}
    .center{display:flex;justify-content:center;align-items:center}
    .divider{height:1px;background:linear-gradient(90deg,transparent, #3a2430, transparent);margin:16px 0}
    .hint{font-size:12px;color:#b7b3c0;margin-top:8px;text-align:center}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1 class="title">Valheim Modpack</h1>
      <p class="subtitle">
      <div class="controls">
        <div class="search">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="#e7d7dc" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <input id="q" placeholder="Buscar mod, categoria, palavra-chave..." />
        </div>
        <button class="btn ghost" id="expand">Expandir tudo</button>
        <button class="btn ghost" id="collapse">Recolher tudo</button>
        <button class="btn primary" id="copy">Copiar lista</button>
      </div>
      <div class="filters" id="filters">
        <!-- chips injetados via JS -->
      </div>
      <div class="hint">Dica: clique em uma categoria para filtrar. Clique novamente para desmarcar. Você pode combinar busca + filtros.</div>
    </header>

    <main class="grid" id="grid"></main>

    <footer>
      <div class="divider"></div>
      Feito para <strong>Valheim v0.221.4</strong> • Tema vermelho ♡ • Última revisão: <span id="rev"></span>
    </footer>
  </div>

  <script>
    // ---------- Dados ----------
    const MODS = [
      // Núcleo / bibliotecas
      M("BepInExPack Valheim","5.4.23",["Biblioteca"],"Framework base que carrega todos os plugins do Valheim.","BepInExPack Valheim"),
      M("Jötunn (JVL)","2.27.0",["Biblioteca"],"API para itens/peças/receitas customizadas; dependência de vários mods.","Jotunn"),
      M("XUnity Resource Redirector","2.1.0",["Biblioteca"],"Redireciona/substitui assets para permitir customizações.","XUnity Resource Redirector"),
      M("Newtonsoft.Json Detector","1.0.0",["Biblioteca"],"Biblioteca de serialização usada por diversos mods.","Newtonsoft.Json Valheim"),
      M("YamlDotNet Detector","1.0.0",["Biblioteca"],"Leitura/serialização YAML para configs e dados.","YamlDotNet Valheim"),
      M("Configuration Manager","18.4.1",["Biblioteca","QoL"],"Painel de configurações dentro do jogo.","Configuration Manager Valheim"),

      // UI / HUD / QoL
      M("BetterUI","2.5.9",["UI/HUD","QoL"],"Aprimora elementos da interface, fontes e indicadores.","BetterUI Valheim"),
      M("Building Health Display","0.7.1",["UI/HUD","QoL"],"Mostra a vida/estado de peças de construção.","Building Health Display Valheim"),
      M("Minimal Status Effects","1.0.7",["UI/HUD","QoL"],"Deixa os ícones de status mais discretos/limpos.","Minimal Status Effects Valheim"),
      M("Display Day & Time Countdown","1.0.0",["UI/HUD","QoL"],"Exibe dia atual e relógio/contagem na HUD.","Display Day & Time Countdown Valheim"),
      M("CameraTweaks","1.3.1",["UI/HUD","QoL"],"Ajustes de FOV/zoom/offsets e suavizações.","CameraTweaks Valheim"),
      M("FirstPersonMode","1.3.10",["UI/HUD","QoL"],"Alterna visão de 1ª pessoa com configurações finas.","FirstPersonMode Valheim"),
      M("SaveCrossbowState","1.0.2",["QoL"],"Retém o estado de preparo da besta ao trocar/guardar.","SaveCrossbowState Valheim"),

      // Inventário, baús e craft
      M("AzuExtendedPlayerInventory","1.4.12",["QoL","Inventário"],"Expande o inventário do jogador com layout custom.","AzuExtendedPlayerInventory"),
      M("AzuCraftyBoxes","1.8.5",["Automação","Inventário"],"Permite craftar usando materiais de baús próximos.","AzuCraftyBoxes"),
      M("AzuAutoStore","3.0.8",["Automação","Inventário"],"Move itens do inventário para baús corretos automaticamente.","AzuAutoStore"),
      M("Smart Containers Mod","1.7.0",["Automação","Inventário"],"Grupos/regras para organizar e auto-separar itens.","Smart Containers Mod Valheim"),
      M("Quick Stack - Store - Sort - Restock","1.4.13",["Inventário","QoL"],"Botões para organizar, guardar e reabastecer em baús.","Quick Stack Store Sort Restock Valheim"),
      M("Blacksmithing (Skill)","1.3.2",["Skills","Craft"],"Habilidade de ferreiro que progride com a forja.","Blacksmithing Valheim"),
      M("AutoRepair","5.4.1600",["Automação","QoL"],"Repara itens automaticamente ao abrir bancadas.","AutoRepair Valheim"),

      // Construção e base
      M("OdinArchitect","1.5.7",["Construção","Conteúdo"],"Muitas peças temáticas para construir bases nórdicas.","OdinArchitect"),
      M("Auto Fuel","1.3.1",["Automação","Base"],"Abastece fornos/forjas a partir de baús próximos.","Auto Fuel Valheim"),
      M("AutomaticFermenters","1.0.8",["Automação","Base"],"Automatiza fermentadores com entrada/saída em baús.","Automatic Fermenters Valheim"),
      M("CookingStationTweaks","0.7.1",["Base","Cozinha","QoL"],"Mais slots por grelha, timers e prevenção de queimar.","Cooking Station Tweaks Valheim"),
      M("TorchesEternal","0.2",["Base","QoL"],"Tochas e brasas com duração estendida/eternas.","Torches Eternal Valheim"),
      M("StumpsRegrow","1.0.4",["Base","Mundo"],"Tocos de árvore podem rebrotar para silvicultura renovável.","StumpsRegrow Valheim"),

      // Agricultura e coleta
      M("PlantEverything","1.20.0",["Farming","Conteúdo"],"Permite plantar recursos silvestres (cogumelos, cardo, berries).","Plant Everything Valheim"),
      M("PlantEasily","2.0.3",["Farming","Automação","QoL"],"Alinhamento/grade para plantar rápido e reto.","Plant Easily Valheim"),
      M("MassFarming","1.11",["Farming","Automação"],"Plantar e colher em área, acelerando agricultura.","MassFarming Valheim"),
      M("Farming (Skill)","2.2.1",["Skills","Farming"],"Habilidade de agricultura com bônus conforme XP.","Farming Skill Valheim"),
      M("Mining (Skill)","1.1.5",["Skills"],"Habilidade de mineração (eficiência/velocidade/drops).","Mining Skill Valheim"),

      // Mapa, viagem e navegação
      M("CartographySkill","3.1.1",["Skills","Viagem"],"Habilidade ligada a revelação e compartilhamento de mapa.","CartographySkill Valheim"),
      M("TargetPortal","1.2.1",["Viagem","QoL"],"Portais com seleção de destino por lista.","TargetPortal Valheim"),
      M("Sailing (Skill)","1.1.7",["Skills","Viagem"],"Habilidade de navegação melhora performance de velejo.","Sailing Skill Valheim"),
      M("DiscoveryPins","0.3.10",["Mapa","QoL"],"Cria pinos automáticos no mapa ao descobrir recursos/locais.","Discovery Pins Valheim"),
      M("UnderTheRadar","3.1.7",["Mapa","QoL"],"Mostra colecionáveis/veios/locais como pinos no minimapa.","UnderTheRadar Valheim"),

      // Itens utilitários / montaria
      M("Adventure Backpacks","1.9.7",["Itens","QoL"],"Mochilas com slots/efeitos; craftáveis.","Adventure Backpacks Valheim"),
      M("Spyglass","3.1.1",["Itens","UI/HUD"],"Luneta/zoom para explorar e marcar.","Spyglass Valheim"),
      M("OdinHorse","1.5.0",["Montaria","Conteúdo"],"Cavalos com sela/armadura; montaria completa.","OdinHorse Valheim"),

      // Combate, magia e conteúdo
      M("Better Archery","1.9.81",["Gameplay","QoL"],"Arco aprimorado (física/setas recuperáveis/aljavas).","Better Archery Valheim"),
      M("Epic Loot","0.11.6",["Loot","Conteúdo"],"Sistema de raridades, afixos e encantamentos (estilo ARPG).","Epic Loot Valheim"),
      M("Creature Level & Loot Control (CLLC)","4.6.4",["Balance","Loot"],"Controla níveis (estrelas), afixos e tabelas de drops.","Creature Level & Loot Control Valheim"),
      M("Warfare","1.8.9",["Conteúdo","Combate"],"Pacote de armas e progressão ampliada.","Therzie Warfare Valheim"),
      M("Armory","1.3.1",["Conteúdo","Craft"],"Estação/árvore de craft para conteúdo Warfare.","Therzie Armory Valheim"),
      M("Warfare Fire & Ice","2.0.8",["Conteúdo","Combate"],"Variações elementais (fogo/gelo) para o arsenal.","Therzie Warfare Fire and Ice Valheim"),
      M("Wizardry","1.1.8",["Magia","Conteúdo"],"Varinhas, cajados, armaduras mágicas e progressão de Eitr.","Therzie Wizardry Valheim"),
      M("MagicPlugin (blacks7ar)","2.1.8",["Magia","Conteúdo"],"Staffs, totens, invocações e itens mágicos extras.","MagicPlugin blacks7ar Valheim"),
      M("RenegadeVikings (blacks7ar)","1.3.9",["Conteúdo","Eventos"],"Encontros com vikings renegados, equipamentos e eventos.","RenegadeVikings blacks7ar Valheim"),
      M("Shield Me Bruh!","1.1.1",["Combate","QoL"],"Ajustes de escudo (timings e qualidade de vida).","Shield Me Bruh Valheim"),
      M("Monstrum","1.5.1",["Conteúdo","Mobs"],"Novas criaturas/chefe(s) e variações de PVE.","Therzie Monstrum Valheim"),

      // Imersão e mundo
      M("Seasonality","3.5.0",["Mundo","Imersão"],"Sistema de estações: clima/visuais/efeitos configuráveis.","Seasonality Valheim"),

      // Traduções
      M("TranslationsHelper","1.2.8",["Biblioteca"],"Suporte para arquivos de localização/tradução custom.","TranslationsHelper Valheim")
    ];

    function M(name, version, cats, desc, searchHint){
      return {
        name,version,cats,desc, searchHint: searchHint || name
      }
    }

    // ---------- UI / geração ----------
    const grid = document.querySelector('#grid');
    const filtersEl = document.querySelector('#filters');
    const qEl = document.querySelector('#q');
    const REV = document.querySelector('#rev');
    REV.textContent = new Date().toISOString().slice(0,10);

    const ALL_CATS = Array.from(new Set(MODS.flatMap(m=>m.cats))).sort((a,b)=>a.localeCompare(b,'pt-BR'));
    const ON = new Set(); // categorias ativas

    // chips
    for(const c of ALL_CATS){
      const chip = document.createElement('button');
      chip.className = 'chip';
      chip.textContent = c;
      chip.dataset.on = '0';
      chip.onclick = ()=>{
        if(chip.dataset.on==='1'){ chip.dataset.on='0'; ON.delete(c); }
        else { chip.dataset.on='1'; ON.add(c); }
        render();
      };
      filtersEl.appendChild(chip);
    }

    // helpers de links (pesquisas)
    const g = (q)=>`https://www.google.com/search?q=${encodeURIComponent(q)}`;
    const ts = (q)=>`https://www.google.com/search?q=${encodeURIComponent('site:thunderstore.io valheim ' + q)}`;
    const nx = (q)=>`https://www.google.com/search?q=${encodeURIComponent('site:nexusmods.com valheim ' + q)}`;

    function card(mod){
      const id = mod.name.toLowerCase().replace(/[^a-z0-9]+/g,'-');
      const el = document.createElement('details');
      el.className = 'card'; el.id = id;

      const sum = document.createElement('summary');
      const left = document.createElement('div');
      left.className='summary-left';

      const name = document.createElement('div');
      name.className='name';
      name.textContent = mod.name;

      const cats = document.createElement('div');
      cats.className='cats';
      for(const c of mod.cats){
        const b = document.createElement('span');
        b.className='badge';
        b.textContent=c;
        cats.appendChild(b);
      }

      const ver = document.createElement('span');
      ver.className='ver';
      ver.textContent = `v${mod.version}`;

      const chev = document.createElement('div');
      chev.className='chev';
      chev.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none"><path d="M7 10l5 5 5-5" stroke="#ffe5ec" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/></svg>';

      left.appendChild(name);
      left.appendChild(cats);
      sum.appendChild(left);
      sum.appendChild(ver);
      sum.appendChild(chev);
      el.appendChild(sum);

      const ct = document.createElement('div');
      ct.className='content';
      ct.innerHTML = `
        <p>${mod.desc}</p>
        <div class="kv"><span class="k">Atalhos:</span> <span class="v empty">geralmente configuráveis no <strong>F1</strong> (Configuration Manager)</span></div>
        <div class="links">
          <a class="link" href="${ts(mod.searchHint)}" target="_blank" rel="noopener">Thunderstore</a>
          <a class="link" href="${nx(mod.searchHint)}" target="_blank" rel="noopener">Nexus Mods</a>
          <a class="link" href="${g(mod.searchHint)}" target="_blank" rel="noopener">Google</a>
        </div>
      `;
      el.appendChild(ct);
      return el;
    }

    function render(){
      const text = qEl.value.trim().toLowerCase();
      grid.innerHTML='';

      const shown = MODS
        .filter(m=>{
          // filtro por categorias ativas
          if(ON.size){
            const hit = m.cats.some(c=>ON.has(c));
            if(!hit) return false;
          }
          // busca textual
          if(text){
            const hay = (m.name + ' ' + m.cats.join(' ') + ' ' + m.desc).toLowerCase();
            return hay.includes(text);
          }
          return true;
        })
        .sort((a,b)=>a.name.localeCompare(b.name,'pt-BR'));

      for(const m of shown) grid.appendChild(card(m));
    }

    // eventos
    qEl.addEventListener('input', render);
    document.querySelector('#expand').onclick = ()=>{
      document.querySelectorAll('details.card').forEach(d=>d.open = true);
    };
    document.querySelector('#collapse').onclick = ()=>{
      document.querySelectorAll('details.card').forEach(d=>d.open = false);
    };
    document.querySelector('#copy').onclick = async ()=>{
      const list = MODS
        .sort((a,b)=>a.name.localeCompare(b.name,'pt-BR'))
        .map(m=>`${m.name} v${m.version}`).join('\n');
      try{
        await navigator.clipboard.writeText(list);
        flash('Lista copiada!');
      }catch(e){
        flash('Falhou ao copiar — selecione manualmente.');
        console.error(e);
      }
    };

    function flash(msg){
      const n = document.createElement('div');
      n.textContent = msg;
      n.style.position='fixed';
      n.style.left='50%'; n.style.top='18px'; n.style.transform='translateX(-50%)';
      n.style.background='linear-gradient(180deg,var(--primary),var(--primary-700))';
      n.style.padding='10px 14px'; n.style.border='1px solid #4a0f22'; n.style.borderRadius='10px';
      n.style.boxShadow='0 8px 20px var(--shadow)';
      n.style.zIndex='9999';
      document.body.appendChild(n);
      setTimeout(()=>n.remove(), 1600);
    }

    // inicializa
    render();
  </script>
</body>
</html>
